let clockTarget=0,clockTickId=0,countdownIntervalId=0;const showAdjust=()=>{jQuery("#btnadjust").addClass("d-none"),jQuery("#adjust").removeClass("d-none");const e=moment.tz(new Date,"Etc/UTC");jQuery("#tathour").val(e.format("HH")),jQuery("#tatminute").val(e.format("mm")),jQuery("#tatday").val(e.format("DD")),jQuery("#tatmonth").val(e.format("MM")),jQuery("#tatyear").val(e.format("YYYY"))},reloadToLocation=e=>{window.location.replace(e)},reloadBasePage=()=>{reloadToLocation(aaTimezonesOptions.base_url)},setTimeToBeIn=(e,t,a)=>{const n=moment().unix()+24*e*60*60+60*t*60+60*a;reloadToLocation(aaTimezonesOptions.base_url+n)},setDateAndTime=(e,t)=>{""!==t?reloadToLocation(aaTimezonesOptions.base_url+moment.tz(e,t).unix()):reloadToLocation(aaTimezonesOptions.base_url+moment(e).unix())},updatePanel=(e,t)=>{jQuery("#time-"+t).html(e.format("HH:mm:ss")),jQuery("#utc-offset-"+t).html("(UTC "+e.format("Z")+")"),jQuery("#date-"+t).html(e.format("dddd DD MMM YYYY"));const a=+e.format("H");let n="wi wi-night-clear";a<23&&(n="wi wi-moonrise"),a<20&&(n="wi wi-sunset"),a<17&&(n="wi wi-day-sunny"),a<14&&(n="wi wi-day-sunny"),a<11&&(n="wi wi-day-sunny"),a<9&&(n="wi wi-sunrise"),a<6&&(n="wi wi-moonset"),a<3&&(n="wi wi-night-clear"),jQuery("#icon-"+t).removeClass().addClass(n)},updatePanels=a=>{updatePanel(moment(a),"local-time"),jQuery.each(aaTimezonesPanels,function(e,t){updatePanel(moment.tz(a,t.timezoneName),t.timezoneId)})},timeUntil=i=>{const r=()=>{const e=Date.now(),t=i-e;let n=t/1e3,o;if(0<=n){const s=Math.floor(n/86400);let e=Math.floor(n/3600)%24,t=Math.floor(n/60)%60,a=Math.floor(n)%60;e<10&&(e="0"+e),t<10&&(t="0"+t),a<10&&(a="0"+a),o=s+" "+aaTimezonesOptions.translation.days+", "+e+":"+t+":"+a}else o=aaTimezonesOptions.translation.alreadyOver;$(".aa-timezones-time-until-countdown").html(o);const a=1e3-(Date.now()-e);countdownIntervalId=setTimeout(r,Math.max(0,a))};r()},clockTick=()=>{updatePanels(new Date)},switchto=e=>{0!==clockTickId&&clearInterval(clockTickId),0!==countdownIntervalId&&clearInterval(countdownIntervalId),$(".aa-timezones-time-until-countdown").html(""),0===e?(jQuery("#headlineCurrent").removeClass("d-none"),jQuery("#headlineFixed").addClass("d-none"),jQuery("#adjust").addClass("d-none"),jQuery("#btnadjust").removeClass("d-none"),jQuery("#btnshowcurrent").addClass("d-none"),jQuery(".aa-timezones-time-until").addClass("d-none"),0!==clockTarget&&jQuery("#btnshowfixed").removeClass("d-none"),jQuery("#btnclear").addClass("d-none"),clockTickId=setInterval(clockTick,1e3),clockTick()):(jQuery("#headlineCurrent").addClass("d-none"),jQuery("#headlineFixed").removeClass("d-none"),jQuery("#adjust").addClass("d-none"),jQuery("#btnadjust").addClass("d-none"),jQuery("#btnshowcurrent").removeClass("d-none"),jQuery("#btnshowfixed").addClass("d-none"),jQuery("#btnclear").removeClass("d-none"),jQuery(".aa-timezones-time-until").removeClass("d-none"),updatePanels(new Date(clockTarget)),timeUntil(clockTarget))},hashchange=()=>{const e=parseInt(aaTimezonesOptions.timestamp);if(clockTarget=0,!isNaN(e)&&isFinite(e)){clockTarget=1e3*e;const t=moment.tz(new Date(clockTarget),"Etc/UTC");jQuery("#timestamp").attr("datetime",t.format("YYYY-MM-DDTHH:mm:00Z0000")).timeago("update",new Date(clockTarget))}switchto(clockTarget)};jQuery(document).ready(e=>{window.addEventListener("hashchange",hashchange,!1);const t=moment.tz(new Date,"Etc/UTC"),a=+t.format("YYYY");let n;for(n=a-4;n<a+5;n++)e("#tatyear").append(e("<option>",{i:n}).text(n));e.timeago.settings.allowFuture=!0,e.timeago.settings.allowPast=!0,setInterval(()=>{e("#timestamp").timeago("update",new Date(clockTarget))},1e4),hashchange()});
//# sourceMappingURL=timezones.min.js.map